<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Scriptorum</title>
	<meta name="description" content="">
	<meta name="author" content="Marc Augier">

	<!-- HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
		<script src="http://marcyves.github.io/theme/html5.js"></script>
	<![endif]-->

	<!-- Styles -->
	<link href="http://marcyves.github.io/theme/bootstrap.min.css" rel="stylesheet">
	<link href="http://marcyves.github.io/theme/local.css" rel="stylesheet">
	<link href="http://marcyves.github.io/theme/pygments.css" rel="stylesheet">

    <!-- Feeds -->

</head>
<body>
	<div class="topbar">
	  <div class="topbar-inner">
		<div class="container-fluid">
		  <a class="brand" href="http://marcyves.github.io/">Scriptorum</a>
			<ul class="nav">
						<li><a href="http://marcyves.github.io/pages/about-me.html">About me</a></li>
					<li ><a href="http://marcyves.github.io/category/humour.html">Humour</a></li>
					<li ><a href="http://marcyves.github.io/category/latex.html">LaTeX</a></li>
					<li ><a href="http://marcyves.github.io/category/recettes.html">Recettes</a></li>
					<li ><a href="http://marcyves.github.io/category/recherche.html">Recherche</a></li>
					<li class="active"><a href="http://marcyves.github.io/category/techno.html">Techno</a></li>
			</ul>
			<p class="pull-right"><a href="http://marcyves.github.io/archives.html">[archives]</a> <a href="http://marcyves.github.io/tags.html">[tags]</a></p>
		</div>
	  </div>
	</div>

	<div class="container-fluid">
	  <div class="sidebar">
		<div class="well">
			<h3>Blogroll</h3>
			<ul>
				<li><a href="http://getpelican.com/">Pelican</a></li>
				<li><a href="http://colisciences.in2p3.fr/">CoLisciences</a></li>
				<li><a href="http://claudebernard.in2p3.fr/">Claude Bernard</a></li>
				<li><a href="http://about.me/marc.augier">À propos</a></li>
			</ul>
			<div class="social">
			<h3>Social</h3>
			<ul>
				<li><a href="http://twitter.com/marcyves">twitter</a></li>
				<li><a href="http://www.facebook.com/marcaugier">facebook</a></li>
				<li><a href="http://about.me/marc.augier">About me</a></li>
				<li><a href="http://github.com/marcyves">github</a></li>
			</ul>
			</div>
		</div>
	  </div>
	  <div class="content">
	<div class='article'>
		<div class="page-header"><h1>Récuperer une installation interrompue</h1></div>
		<div class="well small">Permalink: <a class="more" href="http://marcyves.github.io/repair-ubuntu-install.html">2014-09-12 13:50:00</a>
by <a class="url fn" href="http://marcyves.github.io/author/marc-augier.html">Marc Augier </a>
 in <a href="http://marcyves.github.io/category/techno.html">Techno</a>
tags: <a href="http://marcyves.github.io/tag/linux.html">linux</a> </div>
		<div><p>Après avoir interrompu une mise à jour de Ubuntu, ou à cause d'une panne de courant pendant la mise à jour, on peut se retouver avec une système qui refuse de démarrer.</p>
<p>Généralement cela se traduit par un message du stye:</p>
<div class="highlight"><pre><span class="n">Root</span> <span class="n">filesystem</span> <span class="n">check</span> <span class="n">failed</span><span class="p">.</span>
<span class="n">A</span> <span class="n">maintenance</span> <span class="n">shell</span> <span class="n">will</span> <span class="n">now</span> <span class="n">be</span> <span class="n">started</span><span class="p">.</span>
<span class="n">CONTROL</span><span class="o">-</span><span class="n">D</span> <span class="n">will</span> <span class="n">terminate</span> <span class="n">this</span> <span class="n">shell</span> <span class="n">and</span> <span class="n">reboot</span> <span class="n">the</span> <span class="n">system</span><span class="p">.</span>
</pre></div>


<p>D'après le <a href="http://askubuntu.com/questions/38617/root-filesystem-check-fails-after-power-failure-during-installation">forum Ubuntu</a> on peut se sauver de la situation en utilisant ces commandes: </p>
<div class="highlight"><pre><span class="n">sudo</span> <span class="n">mount</span> <span class="o">-</span><span class="n">o</span> <span class="n">remount</span><span class="p">,</span><span class="n">rw</span> <span class="o">/</span>
<span class="n">sudo</span>  <span class="n">dpkg</span> <span class="o">--</span><span class="n">configure</span> <span class="o">-</span><span class="n">a</span>
<span class="n">sudo</span> <span class="n">mount</span> <span class="o">-</span><span class="n">o</span> <span class="n">remount</span><span class="p">,</span><span class="n">ro</span> <span class="o">/</span>
<span class="n">sudo</span> <span class="n">sync</span>
<span class="n">sudo</span> <span class="n">reboot</span>
</pre></div>


<p>mais il faudra ensuite terminer la mise à jour avec :</p>
<div class="highlight"><pre><span class="n">sudo</span> <span class="n">dpkg</span> <span class="n">configure</span> <span class="o">-</span><span class="n">a</span>
</pre></div>


<p>Cela pourrait ne pas suffire pour pouvoir redémarrer l'interface graphique, il faudra alors sans doute compléter avec :</p>
<div class="highlight"><pre><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="o">-</span><span class="n">f</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">upgrade</span>
</pre></div>


<p>Jusqu'à ce que l'interface graphique fonctionne pour pouvoir reprendre la mise à jour avec l'outil Ubuntu.</p></div>
		<div>
			<h2>Comments</h2>
		<div>
	</div>	
		<footer>
		  <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme based on <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap</a>.</p>
		  <p>&copy; Marc Augier</p>
		</footer>
	  </div>

	</div>
</body>
</html>